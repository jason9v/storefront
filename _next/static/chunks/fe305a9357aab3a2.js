(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63371,e=>{"use strict";var s=e.i(43476),r=e.i(48148),a=e.i(18566),o=e.i(71645),t=e.i(54616),n=e.i(81307);e.i(14210);var i=e.i(36586);e.i(10750);var d=e.i(38989);e.i(93359);var m=e.i(96290),u=e.i(8137);e.i(55381);var c=e.i(88364);e.s(["default",0,()=>{let e=(0,r.useTranslations)("ResetPassword"),l=(0,r.useTranslations)("Register"),p=(0,a.useRouter)(),w=(0,a.useSearchParams)(),g=w.get("token"),f=w.get("email"),h=n.z.object({password:n.z.string().min(8,l("passwordLength")).regex(/[A-Z]/,l("passwordUppercase")).regex(/\d/,l("passwordNumber")).regex(/[^a-zA-Z0-9]/,l("passwordSpecial")),confirmPassword:n.z.string()}),{formData:v,errors:x,handleChange:P,validate:b,setErrors:j}=(0,i.useForm)(h,{password:"",confirmPassword:""}),{password:S,confirmPassword:T}=v,[C,L]=(0,o.useState)({message:"",open:!1,variant:"error"});(0,o.useEffect)(()=>{g&&f||p.push("/")},[g,f,p]);let R=(0,t.useMutation)({mutationFn:({email:e,token:s,password:r})=>(0,d.resetPassword)({email:e,resetCode:s,newPassword:r}),onSuccess:s=>{L({message:e(s),open:!0,variant:"success"}),setTimeout(()=>p.push("/"),3e3)},onError:s=>L({message:e(s.message),open:!0,variant:"error"})}),y=async s=>{if(s.preventDefault(),b()){if(S!==T)return void j({...x,confirmPassword:e("passwordMismatch")});if(!g||!f)return void L({message:e("invalidResetLink"),open:!0,variant:"error"});R.mutate({token:g,email:f,password:S})}};return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[(0,s.jsxs)("form",{onSubmit:y,className:"flex flex-col items-center",children:[(0,s.jsx)(m.Input,{label:e("newPassword"),type:"password",value:v.password,onChange:P("password"),required:!0,minLength:6,maxLength:20,error:x.password,className:"mb-4"}),(0,s.jsx)(m.Input,{label:e("confirmPassword"),type:"password",value:v.confirmPassword,onChange:P("confirmPassword"),required:!0,minLength:6,maxLength:20,error:x.confirmPassword}),(0,s.jsx)(c.SubmitButton,{label:e("resetPassword"),className:"mt-8"})]}),(0,s.jsx)(u.Snackbar,{...C,onClose:()=>L(e=>({...e,open:!1}))})]})}])}]);