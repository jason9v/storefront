(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72484,e=>{"use strict";var r=e.i(43476),a=e.i(18566),s=e.i(48148),t=e.i(57688),d=e.i(61745),l=e.i(66027),i=e.i(71645);e.i(10750);var n=e.i(44095);e.i(93359);var o=e.i(90721),c=e.i(8137),m=e.i(32882);e.i(29266);var x=e.i(32047),x=x;e.i(10774);var u=e.i(6135);e.s(["OrderClient",0,()=>{let e=(0,a.useParams)(),h=Array.isArray(e.id)?e.id[0]:e.id,b=(0,d.useLocale)(),p=(0,s.useTranslations)("Order"),f=(0,s.useTranslations)("Items"),[g,j]=(0,i.useState)(!1),[y,k]=(0,i.useState)(1),{data:N,isLoading:v,error:P}=(0,l.useQuery)({queryKey:["order",h],queryFn:()=>(0,n.fetchOrderById)(Number(h)),staleTime:1/0});if((0,i.useEffect)(()=>{P&&j(!0)},[P]),v)return(0,r.jsx)(o.LoadingSpinner,{});if(P)return(0,r.jsx)(c.Snackbar,{message:p(P.message),open:g,onClose:()=>j(!1),variant:"error"});let w=N?new Intl.DateTimeFormat(b,{day:"2-digit",month:"short",year:"numeric"}).format(new Date(N.date)):"",T=[{label:"total",value:`€ ${N?.totalPrice.toFixed(2)}`},{label:"date",value:w},{label:"status",value:void 0!==N&&(0,r.jsx)(x.default,{status:N.status})}],$=N?.items||[],C=Math.ceil($.length/4),O=$.slice((y-1)*4,4*y);return(0,r.jsxs)("div",{className:"m-10",children:[(0,r.jsxs)("h1",{className:"text-foreground dark:text-foreground-dark font-semibold text-xl mb-3",children:[p("order")," ",(0,r.jsxs)("span",{className:"text-link dark:text-link-dark",children:["#",h]})]}),(0,r.jsx)("div",{className:"space-y-2 text-sm",children:T.map(({label:e,value:a})=>(0,r.jsxs)("div",{className:"flex items-center justify-start text-foreground dark:text-foreground-dark font-semibold",children:[(0,r.jsxs)("span",{className:"mr-2 min-w-[40px]",children:[p(e),":"]}),(0,r.jsx)("span",{className:"text-foreground-secondary dark:text-foreground-secondary-dark",children:a})]},e))}),(0,r.jsx)("h2",{className:"text-foreground dark:text-foreground-dark font-semibold text-lg mt-[50px]",children:p("items")}),(0,r.jsx)("hr",{className:"mt-4 mb-10 border-gray-300 dark:border-gray-600"}),(0,r.jsxs)("table",{className:"min-w-full shadow-md mb-10 bg-secondary rounded-xl dark:bg-secondary-dark table-auto border-collapse",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-left border-b-[1px] border-gray-300 dark:border-gray-600",children:[(0,r.jsx)("th",{className:"pb-4 p-6 font-semibold",children:p("preview")}),(0,r.jsx)("th",{className:"pb-4 p-6 font-semibold",children:p("items")}),(0,r.jsx)("th",{className:"pb-4 p-6 font-semibold",children:p("total")})]})}),(0,r.jsx)("tbody",{children:O.map(({imageUrl:e,quantity:a,nameKey:s,price:d},l)=>{let i=0===l,n=l===O.length-1;return(0,r.jsxs)("tr",{className:"text-foreground-secondary dark:text-foreground-secondary-dark",children:[(0,r.jsx)("td",{className:`p-2 px-6 ${i?"pt-6":""} ${n?"pb-6":""}`,children:(0,r.jsx)(t.default,{src:(0,u.withBasePath)(e),width:40,height:40,alt:`Item #${l}`,priority:!0})}),(0,r.jsxs)("td",{className:`p-2 px-6 font-normal ${i?"pt-6":""} ${n?"pb-6":""}`,children:[a," x ",f(s)]}),(0,r.jsxs)("td",{className:`p-2 px-6 font-normal ${i?"pt-6":""} ${n?"pb-6":""}`,children:["€ ",a*d]})]},l)})})]}),(0,r.jsx)(m.Pagination,{currentPage:y,totalPages:C,onPageChange:e=>k(e)})]})}],72484)}]);